

<!DOCTYPE html>
<html lang="en">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>
      components/ProjectDetails.vue - Documentation
  </title>

  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>

  <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
  <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
  
  <link type="text/css" rel="stylesheet" href="styles/collapse.css">
  

  

</head>

<body>
  <svg style="display: none;">
    <defs>
      <symbol id="linkIcon" fill="#706d77" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
          <path d="M0 0h24v24H0z" fill="none"/>
          <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>
      </symbol>
    </defs>
  </svg>

  <input type="checkbox" id="nav-trigger" class="nav-trigger" />
  <label for="nav-trigger" class="navicon-button x">
    <div class="navicon"></div>
  </label>

  <label for="nav-trigger" class="overlay"></label>

  <div class="top-nav-wrapper">
    <ul>
      <li >
        <a href="index.html">
          
            <i class="fas fa-home"></i>
          
          
        </a>
      </li>

      

    </ul>
  </div>

  <nav>
    <h3 class="reference-title">
      Portfolio Docs
    </h3>

    

    <h3>Modules</h3><ul><li id="Page-index-nav"><a href="module-Page-index.html">Page-index</a></li><li id="Page-login-nav"><a href="module-Page-login.html">Page-login</a></li><li id="Page-admin-nav"><a href="module-Page-admin.html">Page-admin</a><ul class='methods'><li data-type="method" id="Page-admin-saveContent-nav"><a href="module-Page-admin.html#saveContent">saveContent</a></li></ul></li><li id="Page-projects-nav"><a href="module-Page-projects.html">Page-projects</a><ul class='methods'><li data-type="method" id="Page-projects-handleProjectSort-nav"><a href="module-Page-projects.html#handleProjectSort">handleProjectSort</a></li><li data-type="method" id="Page-projects-editProject-nav"><a href="module-Page-projects.html#editProject">editProject</a></li><li data-type="method" id="Page-projects-handleDelete-nav"><a href="module-Page-projects.html#handleDelete">handleDelete</a></li><li data-type="method" id="Page-projects-deleteProject-nav"><a href="module-Page-projects.html#deleteProject">deleteProject</a></li><li data-type="method" id="Page-projects-updateProjectOrder-nav"><a href="module-Page-projects.html#updateProjectOrder">updateProjectOrder</a></li><li data-type="method" id="Page-projects-saveProject-nav"><a href="module-Page-projects.html#saveProject">saveProject</a></li><li data-type="method" id="Page-projects-setLastProjectActive-nav"><a href="module-Page-projects.html#setLastProjectActive">setLastProjectActive</a></li><li data-type="method" id="Page-projects-newProject-nav"><a href="module-Page-projects.html#newProject">newProject</a></li></ul></li><li id="Component-AdminNav-nav"><a href="module-Component-AdminNav.html">Component-AdminNav</a><ul class='methods'><li data-type="method" id="Component-AdminNav-signOut-nav"><a href="module-Component-AdminNav.html#signOut">signOut</a></li></ul></li><li id="Component-LoginForm-nav"><a href="module-Component-LoginForm.html">Component-LoginForm</a><ul class='methods'><li data-type="method" id="Component-LoginForm-signIn-nav"><a href="module-Component-LoginForm.html#signIn">signIn</a></li><li data-type="method" id="Component-LoginForm-signOut-nav"><a href="module-Component-LoginForm.html#signOut">signOut</a></li></ul></li><li id="Component-ProjectDetails-nav"><a href="module-Component-ProjectDetails.html">Component-ProjectDetails</a><ul class='methods'><li data-type="method" id="Component-ProjectDetails-date-nav"><a href="module-Component-ProjectDetails.html#date">date</a></li><li data-type="method" id="Component-ProjectDetails-addContainerForVideos-nav"><a href="module-Component-ProjectDetails.html#addContainerForVideos">addContainerForVideos</a></li><li data-type="method" id="Component-ProjectDetails-openProject-nav"><a href="module-Component-ProjectDetails.html#openProject">openProject</a></li><li data-type="method" id="Component-ProjectDetails-closeProject-nav"><a href="module-Component-ProjectDetails.html#closeProject">closeProject</a></li></ul></li><li id="Component-SwitchDarkMode-nav"><a href="module-Component-SwitchDarkMode.html">Component-SwitchDarkMode</a><ul class='methods'><li data-type="method" id="Component-SwitchDarkMode-toggleDarkMode-nav"><a href="module-Component-SwitchDarkMode.html#toggleDarkMode">toggleDarkMode</a></li></ul></li><li id="Component-SectionBio-nav"><a href="module-Component-SectionBio.html">Component-SectionBio</a></li><li id="Component-SectionExperience-nav"><a href="module-Component-SectionExperience.html">Component-SectionExperience</a></li><li id="Component-SectionFooter-nav"><a href="module-Component-SectionFooter.html">Component-SectionFooter</a></li><li id="Component-SectionLanding-nav"><a href="module-Component-SectionLanding.html">Component-SectionLanding</a></li><li id="Component-SectionProjects-nav"><a href="module-Component-SectionProjects.html">Component-SectionProjects</a><ul class='methods'><li data-type="method" id="Component-SectionProjects-padInt-nav"><a href="module-Component-SectionProjects.html#padInt">padInt</a></li><li data-type="method" id="Component-SectionProjects-openProject-nav"><a href="module-Component-SectionProjects.html#openProject">openProject</a></li></ul></li><li id="Component-SectionRecognition-nav"><a href="module-Component-SectionRecognition.html">Component-SectionRecognition</a></li><li id="Mixin-image-upload-nav"><a href="module-Mixin-image-upload.html">Mixin-image-upload</a><ul class='methods'><li data-type="method" id="Mixin-image-upload-uploadImage-nav"><a href="module-Mixin-image-upload.html#~uploadImage">uploadImage</a></li><li data-type="method" id="Mixin-image-upload-mixinRandomId-nav"><a href="module-Mixin-image-upload.html#~mixinRandomId">mixinRandomId</a></li></ul></li><li id="Middleware-router-auth-nav"><a href="module-Middleware-router-auth.html">Middleware-router-auth</a><ul class='methods'><li data-type="method" id="Middleware-router-auth-isAdminRoute-nav"><a href="module-Middleware-router-auth.html#~isAdminRoute">isAdminRoute</a></li></ul></li><li id="Store-nav"><a href="module-Store.html">Store</a><ul class='methods'><li data-type="method" id="Store-state-nav"><a href="module-Store.html#~state">state</a></li><li data-type="method" id="Store-Getters-nav"><a href="module-Store.html#~Getters">Getters</a></li><li data-type="method" id="Store-Mutations-firebaseMutations-nav"><a href="module-Store.html#~Mutations-firebaseMutations">Mutations-firebaseMutations</a></li><li data-type="method" id="Store-Mutations-setOwner-nav"><a href="module-Store.html#~Mutations-setOwner">Mutations-setOwner</a></li><li data-type="method" id="Store-Mutations-setDarkMode-nav"><a href="module-Store.html#~Mutations-setDarkMode">Mutations-setDarkMode</a></li><li data-type="method" id="Store-Actions-setDarkMode-nav"><a href="module-Store.html#~Actions-setDarkMode">Actions-setDarkMode</a></li><li data-type="method" id="Store-Actions-setProjects-nav"><a href="module-Store.html#~Actions-setProjects">Actions-setProjects</a></li><li data-type="method" id="Store-Actions-setContent-nav"><a href="module-Store.html#~Actions-setContent">Actions-setContent</a></li><li data-type="method" id="Store-Actions-signIn-nav"><a href="module-Store.html#~Actions-signIn">Actions-signIn</a></li><li data-type="method" id="Store-Actions-signOut-nav"><a href="module-Store.html#~Actions-signOut">Actions-signOut</a></li><li data-type="method" id="Store-Actions-uploadContentImage-nav"><a href="module-Store.html#~Actions-uploadContentImage">Actions-uploadContentImage</a></li></ul></li></ul>
  </nav>

  <div id="main">
    
      <h1 class="page-title">
        components/ProjectDetails.vue
      </h1>
    

    
      

<section>
  <article>
    <pre class="prettyprint source linenums"><code>&lt;template lang='pug'>
el-dialog.project-modal-container(:visible.sync='showProject', @close='closeProject()', 
  top='2vh', custom-class='project-modal', :show-close='false', :class='{ dark: darkMode }')
  .container(v-if='project')
    //- Close button on top for small screen devices
    el-row.close-bar
      p(@click='closeProject()'): i.el-icon-close
    //- Project Content
    el-row
      el-col(:sm='{span:22, offset:1}', :md='{span:16, offset:4}', :lg='{span:14, offset:5}')
        h5.section-title {{date(project.timestamp)}}
        h1.section-headline {{project.name}}
        p.section-subheading {{project.summary}}
        div.description(v-html='project.description')
&lt;/template>

&lt;script>
/**
 * @module Component-ProjectDetails
 * @desc Modal for viewing project details
 * @vue-computed {Boolean} darkMode - Dark mode state
 * @vue-data {Boolean} [showProject=false] - True if the modal is visible when the project content is loaded
 * @vue-data {Object} [project=null] - Object containing project details
 */

/**
 * **Listens** to bus for open project event
 * @event openProject
 * @property {String} id Project Id from Firestore
 */

/**
 * **Listens** to bus for close project event
 * @event closeProject
 */
import { db } from '@/services/firebase-init.js'
import { mapGetters } from 'vuex'
export default {
  data() {
    return {
      showProject: false,
      project: null
    }
  },
  computed: { ...mapGetters(['darkMode']) },
  mounted() {
    this.$bus.$on('openProject', id => {
      this.openProject(id)
    })
    // Close Modal
    this.$bus.$on('closeProject', () => {
      this.closeProject()
    })
  },
  methods: {
    /**
     * Parses project unix timestamp into MM-YYYY format
     * @param {Integer} timestamp Unix timestamp of the project
     * @returns {String} Parsed date in MM-YYYY format
     */
    date(timestamp) {
      let date = new Date(timestamp)
      let months = [
        'Jan',
        'Feb',
        'Mar',
        'Apr',
        'May',
        'Jun',
        'Jul',
        'Aug',
        'Sep',
        'Oct',
        'Nov',
        'Dec'
      ]
      return months[date.getMonth()] + '-' + date.getFullYear()
    },
    /**
     * Wraps embedded video elements of class `.ql-video` inside Quill containers with `.embed-container` class.
     * Used for applying responsive size styling for embedded videos using custom global styles.
     * @param {Integer} timestamp Unix timestamp of the project
     * @returns {String} Parsed date in MM-YYYY format
     */
    addContainerForVideos() {
      // Add container to videos for responsive embed
      var videos = document.querySelectorAll('.ql-video')
      for (let i = 0; i &lt; videos.length; i++) {
        var embedContainer = document.createElement('div')
        embedContainer.setAttribute('class', 'embed-container')
        var parent = videos[i].parentNode
        parent.insertBefore(embedContainer, videos[i])
        embedContainer.appendChild(videos[i])
      }
    },
    /**
     * Binds the project from Firestore to `project` of the component
     * - Then opens the project modal
     * - Then pushes `project.name` hash parameter to the url history
     * @param {String} id Firestore ID of the project
     */
    openProject(id) {
      try {
        this.$bind('project', db.collection('projects').doc(id))
          .then(project => {
            this.project = project
            this.showProject = true
            return project
          })
          .then(project => {
            this.addContainerForVideos()
            this.$router.push('./#' + project.name)
            // history.pushState('forward', null, './#' + project.name)
          })
          .catch(error => {
            console.error(error)
          })
      } catch (error) {
        // Forcing suppression. TypeError caused during live-reloading
        // console.error(error)
      }
    },
    /**
     * Unbinds the project from Firestore from `project` of the component
     * - Closes the project modal
     * - Clears the hash parameter from the url
     */
    closeProject() {
      this.$unbind('project')
      this.project = null
      this.showProject = false
      this.$router.push('./')
    }
  }
}
&lt;/script>

&lt;style lang='sass' scoped>
.project-modal-container /deep/
  .close-bar
    display: none
    position: fixed
    width: 100%
    top: 0
    left: 0
    padding: 1em
    text-align: center
    background-color: $color-bg-2
    color: $color-highlight
    border-bottom: 1px solid $color-highlight
    z-index: 10

  .el-dialog
    background-color: $color-bg
    border-radius: 5px
    box-shadow: 0px 5px 30px 10px rgba(0,0,0,0.03)
    box-sizing: border-box
  
  .el-dialog__body
    color: $color-text
    padding-bottom: 5em
  
  p, .description
    font-size: 16px
    width: 100%

  .description
    margin-top: 1em
    
    p img
      cursor: auto !important
      max-width: 100%
      padding: 1em 0em
    a
      color: $color-highlight

.project-modal-container.dark /deep/
  background-color: $color-bg-dark-2

  .close-bar
    background-color: $color-bg-dark-2
    color: $color-highlight-dark
    border-bottom: 1px solid $color-highlight-dark

  .el-dialog
    background-color: $color-bg-dark
  
  .el-dialog__body
    color: $color-text-dark
  
  a
    color: $color-highlight-dark

  /* Extra small devices (phones, 600px and down) */
@media only screen and (max-width: 600px) 
  .project-modal-container /deep/
    .close-bar
      display: block
    
    .project-modal
      width: 90%

/* Small devices (portrait tablets and large phones, 600px and up) */
@media only screen and (min-width: 600px)
  .project-modal-container /deep/
    .close-bar
      display: block
  
    .project-modal
      width: 90%

/* Large devices (laptops/desktops, 992px and up) */
@media only screen and (min-width: 992px)
  .project-modal-container /deep/
    .close-bar
      display: block
    
    .project-modal
      width: 80%

/* Extra large devices (large laptops and desktops, 1200px and up) */
@media only screen and (min-width: 1200px)
  .project-modal-container /deep/
    .close-bar
      display: none
    .project-modal
      width: 60%
&lt;/style>
</code></pre>
  </article>
</section>

    


  </div>

  <br class="clear">

  <footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a>
  </footer>

  <script src="scripts/linenumber.js"></script>
  <script src="scripts/pagelocation.js"></script>

  

</body>
</html>
